{% extends "base.html" %}

{% block extrastyle %}
<style>
    .create-list-form {
        width: 40%;
        padding: 25px 35px;
        border-radius: 10px;
        background-color: white;
    }
</style>
{% endblock %}

{% block content %}
<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%;">
    <div class="d-flex flex-column create-list-form">
        <h3>Create Message</h3>
        <form action="" method="post" enctype="multipart/form-data">
            <div id="list-form" class="d-flex flex-column">
                {% csrf_token %}
                {% for field in form %}
                <label>{{field.name}}</label>
                {{ field }}
                {% endfor %}
            </div>
            <div class="d-flex justify-content-center">
                <button type="submit" class="btn btn-primary">Submit</button>
            </div>
        </form>
    </div>
</div>

<script>
    // let fieldsArr = [];
    //
    // function onchange(list) {
    //     if (fieldsArr.length === list.length) {
    //         console.log("exec");
    //     } else {
    //         fieldsArr = list.filter(x => !fieldsArr.includes(x));
    //         console.log(list.filter(x => !fieldsArr.includes(x)))
    //     }
    // }
    //
    // var body = document.getElementById('list-form');
    //
    // const regex = new RegExp(/{xx[0-9]+}/, 'g');
    // const messageBox = document.getElementById("id_message");
    // messageBox.oninput = () => {
    //     onchange(Array.from(messageBox.value.matchAll(regex), m => m[0]))
    //
    //     // fieldsArr.map((field) => {
    //     //     body.insertAdjacentHTML('beforeend', '<div id="two">two</div>');
    //     // });
    // }



</script>
{% endblock %}

